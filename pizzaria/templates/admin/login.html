{# templates/admin/login.html #}
{% extends "admin/base.html" %}
{% load static i18n %}

{% block title %}{% trans "Entrar – Pizzaria do Tião" %}{% endblock %}

{% block content %}
<div class="login-page-wrapper">
  <div class="login-page-card">
    <h1>{% trans "Login de Admin" %}</h1>
    {# inclua ?next={{ next }} na action e o hidden input #}
    <form method="post" action="{% url 'admin:login' %}?next={{ next }}">
      {% csrf_token %}
      {# mantém a mensagem de erro do Admin #}
      {{ form.non_field_errors }}

      {# este input garante que o POST leve o next #}
      {% if next %}
        <input type="hidden" name="next" value="{{ next }}">
      {% endif %}

      <div class="form-group">
        <label for="id_username">{% trans "Usuário:" %}</label>
        {{ form.username }}
      </div>
      <div class="form-group">
        <label for="id_password">{% trans "Senha:" %}</label>
        {{ form.password }}
      </div>
      <button type="submit">{% trans "Entrar" %}</button>
    </form>
  </div>
</div>
{% endblock %}
